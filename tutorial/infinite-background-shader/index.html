<!doctype html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-9KP7VJY00K"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-9KP7VJY00K');</script><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1" name="viewport"><style type="text/css">*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-feature-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,::after,::before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000}::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scroll-snap-strictness:proximity;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000}.prose{color:var(--tw-prose-body);max-width:65ch}.prose :where(p):not(:where([class~=not-prose]*)){margin-top:1.25em;margin-bottom:1.25em}.prose :where([class~=lead]):not(:where([class~=not-prose]*)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-top:1.2em;margin-bottom:1.2em}.prose :where(a):not(:where([class~=not-prose]*)){color:var(--tw-prose-links);text-decoration:underline;font-weight:500}.prose :where(strong):not(:where([class~=not-prose]*)){color:var(--tw-prose-bold);font-weight:600}.prose :where(astrong):not(:where([class~=not-prose]*)){color:inherit}.prose :where(blockquotestrong):not(:where([class~=not-prose]*)){color:inherit}.prose :where(theadthstrong):not(:where([class~=not-prose]*)){color:inherit}.prose :where(ol):not(:where([class~=not-prose]*)){list-style-type:decimal;margin-top:1.25em;margin-bottom:1.25em;padding-left:1.625em}.prose :where(ol[type="A"]):not(:where([class~=not-prose]*)){list-style-type:upper-alpha}.prose :where(ol[type="a"]):not(:where([class~=not-prose]*)){list-style-type:lower-alpha}.prose :where(ol[type="A"s]):not(:where([class~=not-prose]*)){list-style-type:upper-alpha}.prose :where(ol[type="a"s]):not(:where([class~=not-prose]*)){list-style-type:lower-alpha}.prose :where(ol[type="I"]):not(:where([class~=not-prose]*)){list-style-type:upper-roman}.prose :where(ol[type="i"]):not(:where([class~=not-prose]*)){list-style-type:lower-roman}.prose :where(ol[type="I"s]):not(:where([class~=not-prose]*)){list-style-type:upper-roman}.prose :where(ol[type="i"s]):not(:where([class~=not-prose]*)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose]*)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose]*)){list-style-type:disc;margin-top:1.25em;margin-bottom:1.25em;padding-left:1.625em}.prose :where(ol>li):not(:where([class~=not-prose]*))::marker{font-weight:400;color:var(--tw-prose-counters)}.prose :where(ul>li):not(:where([class~=not-prose]*))::marker{color:var(--tw-prose-bullets)}.prose :where(hr):not(:where([class~=not-prose]*)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-top:3em;margin-bottom:3em}.prose :where(blockquote):not(:where([class~=not-prose]*)){font-weight:500;font-style:italic;color:var(--tw-prose-quotes);border-left-width:.25rem;border-left-color:var(--tw-prose-quote-borders);quotes:"\201C""\201D""\2018""\2019";margin-top:1.6em;margin-bottom:1.6em;padding-left:1em}.prose :where(blockquotep:first-of-type):not(:where([class~=not-prose]*))::before{content:open-quote}.prose :where(blockquotep:last-of-type):not(:where([class~=not-prose]*))::after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose]*)){color:var(--tw-prose-headings);font-weight:800;font-size:2.25em;margin-top:0;margin-bottom:.8888889em;line-height:1.1111111}.prose :where(h1strong):not(:where([class~=not-prose]*)){font-weight:900;color:inherit}.prose :where(h2):not(:where([class~=not-prose]*)){color:var(--tw-prose-headings);font-weight:700;font-size:1.5em;margin-top:2em;margin-bottom:1em;line-height:1.3333333}.prose :where(h2strong):not(:where([class~=not-prose]*)){font-weight:800;color:inherit}.prose :where(h3):not(:where([class~=not-prose]*)){color:var(--tw-prose-headings);font-weight:600;font-size:1.25em;margin-top:1.6em;margin-bottom:.6em;line-height:1.6}.prose :where(h3strong):not(:where([class~=not-prose]*)){font-weight:700;color:inherit}.prose :where(h4):not(:where([class~=not-prose]*)){color:var(--tw-prose-headings);font-weight:600;margin-top:1.5em;margin-bottom:.5em;line-height:1.5}.prose :where(h4strong):not(:where([class~=not-prose]*)){font-weight:700;color:inherit}.prose :where(img):not(:where([class~=not-prose]*)){margin-top:2em;margin-bottom:2em}.prose :where(figure>*):not(:where([class~=not-prose]*)){margin-top:0;margin-bottom:0}.prose :where(figcaption):not(:where([class~=not-prose]*)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose :where(code):not(:where([class~=not-prose]*)){color:var(--tw-prose-code);font-weight:600;font-size:.875em}.prose :where(code):not(:where([class~=not-prose]*))::before{content:"`"}.prose :where(code):not(:where([class~=not-prose]*))::after{content:"`"}.prose :where(acode):not(:where([class~=not-prose]*)){color:inherit}.prose :where(h1code):not(:where([class~=not-prose]*)){color:inherit}.prose :where(h2code):not(:where([class~=not-prose]*)){color:inherit;font-size:.875em}.prose :where(h3code):not(:where([class~=not-prose]*)){color:inherit;font-size:.9em}.prose :where(h4code):not(:where([class~=not-prose]*)){color:inherit}.prose :where(blockquotecode):not(:where([class~=not-prose]*)){color:inherit}.prose :where(theadthcode):not(:where([class~=not-prose]*)){color:inherit}.prose :where(pre):not(:where([class~=not-prose]*)){color:var(--tw-prose-pre-code);background-color:var(--tw-prose-pre-bg);overflow-x:auto;font-weight:400;font-size:.875em;line-height:1.7142857;margin-top:1.7142857em;margin-bottom:1.7142857em;border-radius:.375rem;padding-top:.8571429em;padding-right:1.1428571em;padding-bottom:.8571429em;padding-left:1.1428571em}.prose :where(precode):not(:where([class~=not-prose]*)){background-color:transparent;border-width:0;border-radius:0;padding:0;font-weight:inherit;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit}.prose :where(precode):not(:where([class~=not-prose]*))::before{content:none}.prose :where(precode):not(:where([class~=not-prose]*))::after{content:none}.prose :where(table):not(:where([class~=not-prose]*)){width:100%;table-layout:auto;text-align:left;margin-top:2em;margin-bottom:2em;font-size:.875em;line-height:1.7142857}.prose :where(thead):not(:where([class~=not-prose]*)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-th-borders)}.prose :where(theadth):not(:where([class~=not-prose]*)){color:var(--tw-prose-headings);font-weight:600;vertical-align:bottom;padding-right:.5714286em;padding-bottom:.5714286em;padding-left:.5714286em}.prose :where(tbodytr):not(:where([class~=not-prose]*)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-td-borders)}.prose :where(tbodytr:last-child):not(:where([class~=not-prose]*)){border-bottom-width:0}.prose :where(tbodytd):not(:where([class~=not-prose]*)){vertical-align:baseline}.prose :where(tfoot):not(:where([class~=not-prose]*)){border-top-width:1px;border-top-color:var(--tw-prose-th-borders)}.prose :where(tfoottd):not(:where([class~=not-prose]*)){vertical-align:top}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgb(0 0 0 / 50%);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.prose :where(video):not(:where([class~=not-prose]*)){margin-top:2em;margin-bottom:2em}.prose :where(figure):not(:where([class~=not-prose]*)){margin-top:2em;margin-bottom:2em}.prose :where(li):not(:where([class~=not-prose]*)){margin-top:.5em;margin-bottom:.5em}.prose :where(ol>li):not(:where([class~=not-prose]*)){padding-left:.375em}.prose :where(ul>li):not(:where([class~=not-prose]*)){padding-left:.375em}.prose :where(.prose>ul>lip):not(:where([class~=not-prose]*)){margin-top:.75em;margin-bottom:.75em}.prose :where(.prose>ul>li>:first-child):not(:where([class~=not-prose]*)){margin-top:1.25em}.prose :where(.prose>ul>li>:last-child):not(:where([class~=not-prose]*)){margin-bottom:1.25em}.prose :where(.prose>ol>li>:first-child):not(:where([class~=not-prose]*)){margin-top:1.25em}.prose :where(.prose>ol>li>:last-child):not(:where([class~=not-prose]*)){margin-bottom:1.25em}.prose :where(ulul,ulol,olul,olol):not(:where([class~=not-prose]*)){margin-top:.75em;margin-bottom:.75em}.prose :where(hr+*):not(:where([class~=not-prose]*)){margin-top:0}.prose :where(h2+*):not(:where([class~=not-prose]*)){margin-top:0}.prose :where(h3+*):not(:where([class~=not-prose]*)){margin-top:0}.prose :where(h4+*):not(:where([class~=not-prose]*)){margin-top:0}.prose :where(theadth:first-child):not(:where([class~=not-prose]*)){padding-left:0}.prose :where(theadth:last-child):not(:where([class~=not-prose]*)){padding-right:0}.prose :where(tbodytd,tfoottd):not(:where([class~=not-prose]*)){padding-top:.5714286em;padding-right:.5714286em;padding-bottom:.5714286em;padding-left:.5714286em}.prose :where(tbodytd:first-child,tfoottd:first-child):not(:where([class~=not-prose]*)){padding-left:0}.prose :where(tbodytd:last-child,tfoottd:last-child):not(:where([class~=not-prose]*)){padding-right:0}.prose :where(.prose>:first-child):not(:where([class~=not-prose]*)){margin-top:0}.prose :where(.prose>:last-child):not(:where([class~=not-prose]*)){margin-bottom:0}.prose-stone{--tw-prose-body:#44403c;--tw-prose-headings:#1c1917;--tw-prose-lead:#57534e;--tw-prose-links:#1c1917;--tw-prose-bold:#1c1917;--tw-prose-counters:#78716c;--tw-prose-bullets:#d6d3d1;--tw-prose-hr:#e7e5e4;--tw-prose-quotes:#1c1917;--tw-prose-quote-borders:#e7e5e4;--tw-prose-captions:#78716c;--tw-prose-code:#1c1917;--tw-prose-pre-code:#e7e5e4;--tw-prose-pre-bg:#292524;--tw-prose-th-borders:#d6d3d1;--tw-prose-td-borders:#e7e5e4;--tw-prose-invert-body:#d6d3d1;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#a8a29e;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#a8a29e;--tw-prose-invert-bullets:#57534e;--tw-prose-invert-hr:#44403c;--tw-prose-invert-quotes:#f5f5f4;--tw-prose-invert-quote-borders:#44403c;--tw-prose-invert-captions:#a8a29e;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d6d3d1;--tw-prose-invert-pre-bg:rgb(0 0 0 / 50%);--tw-prose-invert-th-borders:#57534e;--tw-prose-invert-td-borders:#44403c}.code-select{-webkit-user-select:all;-moz-user-select:all;user-select:all;margin-bottom:1.2em;position:relative;border-radius:.25rem;--tw-bg-opacity:1;background-color:rgb(214 211 209 / var(--tw-bg-opacity));padding-top:.75rem}@media (prefers-color-scheme:dark){.code-select{--tw-bg-opacity:1;background-color:rgb(17 17 17 / var(--tw-bg-opacity))}}@media print{.code-select{padding-top:0}}.code-select:before{content:'select';right:24px;top:1px;font-size:.75rem;pointer-events:none;position:absolute;--tw-text-opacity:1;color:rgb(87 83 78 / var(--tw-text-opacity))}@media (prefers-color-scheme:dark){.code-select:before{--tw-text-opacity:1;color:rgb(168 162 158 / var(--tw-text-opacity))}}@media print{.code-select:before{display:none}}.code-select:after{content:'';-webkit-mask:url('data:image/svg+xml; utf8, <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" /></svg>');mask:url('data:image/svg+xml; utf8, <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" /></svg>');right:3px;top:3px;font-size:.75rem;pointer-events:none;position:absolute;height:1rem;width:1rem;--tw-bg-opacity:1;background-color:rgb(87 83 78 / var(--tw-bg-opacity))}@media (prefers-color-scheme:dark){.code-select:after{--tw-bg-opacity:1;background-color:rgb(168 162 158 / var(--tw-bg-opacity))}}@media print{.code-select:after{display:none}}.code-highlight{position:relative;margin-left:0;margin-right:0;margin-top:.75rem;margin-bottom:.75rem;display:grid;border-radius:.25rem;border-top-width:1px;--tw-border-opacity:1;border-color:rgb(245 245 244 / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgb(8 8 8 / var(--tw-bg-opacity));padding-left:0;padding-right:0;--tw-text-opacity:1;color:rgb(239 239 239 / var(--tw-text-opacity))}@media (prefers-color-scheme:dark){.code-highlight{--tw-border-opacity:1;border-color:rgb(28 25 23 / var(--tw-border-opacity))}}.code-highlight:before{content:attr(lang);right:10px;top:5px;font-size:.75rem;position:absolute;--tw-text-opacity:1;color:rgb(239 239 239 / var(--tw-text-opacity))}.code-highlight .line-numbers{font-size:100%;letter-spacing:-1px;padding-right:.8rem;margin-right:.8rem;pointer-events:none;float:left;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-right-width:1px;--tw-border-opacity:1;border-color:rgb(38 48 64 / var(--tw-border-opacity));text-align:right}.code-highlight .line-numbers>span{counter-increment:linenumber;display:block}.code-highlight .line-numbers>span:before{content:counter(linenumber);display:block;--tw-text-opacity:1;color:rgb(92 99 112 / var(--tw-text-opacity))}.code-highlight .syntax{text-shadow:none;box-shadow:none;-webkit-user-select:text;-moz-user-select:text;user-select:text;position:relative;margin:0;overflow:auto;white-space:pre;background-color:transparent;padding-left:1.5rem;padding-right:1.5rem;padding-top:1.25rem;padding-bottom:1.25rem;line-height:1.5;font-size:0}.code-highlight .syntax::-webkit-scrollbar{display:none}.code-highlight .syntax code{font-size:.875rem;--tw-text-opacity:1;color:rgb(239 239 239 / var(--tw-text-opacity))}.code-highlight .comment{--tw-text-opacity:1;color:rgb(92 99 112 / var(--tw-text-opacity))}.code-highlight .boolean{--tw-text-opacity:1;color:rgb(108 113 196 / var(--tw-text-opacity))}.code-highlight .number{--tw-text-opacity:1;color:rgb(108 113 196 / var(--tw-text-opacity))}.code-highlight .directive{--tw-text-opacity:1;color:rgb(231 76 60 / var(--tw-text-opacity))}.code-highlight .keyword{--tw-text-opacity:1;color:rgb(231 76 60 / var(--tw-text-opacity))}.code-highlight .keyword-function,.code-highlight .keyword-override,.code-highlight .keyword-private,.code-highlight .keyword-protected,.code-highlight .keyword-public,.code-highlight .keyword-static{--tw-text-opacity:1;color:rgb(52 152 219 / var(--tw-text-opacity))}.code-highlight .key{--tw-text-opacity:1;color:rgb(230 126 34 / var(--tw-text-opacity))}.code-highlight .function{--tw-text-opacity:1;color:rgb(46 204 113 / var(--tw-text-opacity))}.code-highlight .operator{--tw-text-opacity:1;color:rgb(231 76 60 / var(--tw-text-opacity))}.code-highlight .string{--tw-text-opacity:1;color:rgb(241 196 15 / var(--tw-text-opacity))}.code-highlight .class-name{--tw-text-opacity:1;color:rgb(230 126 34 / var(--tw-text-opacity))}.code-highlight .title{--tw-text-opacity:1;color:rgb(52 152 219 / var(--tw-text-opacity))}.code-highlight .type-list .class-name{--tw-text-opacity:1;color:rgb(46 204 113 / var(--tw-text-opacity))}.code-highlight .namespace{--tw-text-opacity:1;color:rgb(46 204 113 / var(--tw-text-opacity))}.menu-icon .navicon::after,.menu-icon .navicon::before{content:'';position:absolute;display:block;height:100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:rgb(120 113 108 / var(--tw-bg-opacity));transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.5s;transition-timing-function:cubic-bezier(0,0,.2,1)}.menu-icon .navicon::before{width:50%;top:5px}.menu-icon .navicon::after{width:100%;top:-5px}.menu-btn:focus~.menu-icon .navicon,.menu-btn:focus~.menu-icon .navicon::after,.menu-btn:focus~.menu-icon .navicon::before{--tw-bg-opacity:1;background-color:rgb(28 25 23 / var(--tw-bg-opacity))}@media (prefers-color-scheme:dark){.menu-btn:focus~.menu-icon .navicon,.menu-btn:focus~.menu-icon .navicon::after,.menu-btn:focus~.menu-icon .navicon::before{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}}.menu-btn:not(:checked)~.menu-icon{left:0;margin-left:0}.menu-btn:checked~.menu{visibility:visible;--tw-translate-x:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.menu-btn:checked~.big-label{pointer-events:auto;opacity:.75}.menu-btn:checked~.menu-icon .navicon{background-color:transparent}@media (prefers-color-scheme:dark){.menu-btn:checked~.menu-icon .navicon{background-color:transparent}}.menu-btn:checked~.menu-icon .navicon::before{width:100%;--tw-rotate:-45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}@media (prefers-color-scheme:dark){.menu-btn:checked~.menu-icon .navicon::before{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}}.menu-btn:checked~.menu-icon .navicon::after{--tw-rotate:45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}@media (prefers-color-scheme:dark){.menu-btn:checked~.menu-icon .navicon::after{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}}.menu-btn:checked~.menu-icon:not(.steps) .navicon::after,.menu-btn:checked~.menu-icon:not(.steps) .navicon::before{top:0}.break-anywhere{overflow-wrap:anywhere}.edit-link{--tw-text-opacity:1!important;color:rgb(68 64 60 / var(--tw-text-opacity))!important}.edit-link:hover{--tw-text-opacity:1!important;color:rgb(28 25 23 / var(--tw-text-opacity))!important}@media (prefers-color-scheme:dark){.edit-link{--tw-text-opacity:1!important;color:rgb(168 162 158 / var(--tw-text-opacity))!important}.edit-link:hover{--tw-text-opacity:1!important;color:rgb(245 245 244 / var(--tw-text-opacity))!important}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.invisible{visibility:hidden}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.left-full{left:100%}.top-0{top:0}.z-10{z-index:10}.z-20{z-index:20}.mx-auto{margin-left:auto;margin-right:auto}.-ml-16{margin-left:-4rem}.-ml-px{margin-left:-1px}.mb-3{margin-bottom:.75rem}.ml-4{margin-left:1rem}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.hidden{display:none}.h-0{height:0}.h-16{height:4rem}.h-2px{height:2px}.h-6{height:1.5rem}.h-auto{height:auto}.h-full{height:100%}.h-screen{height:100vh}.max-h-screen{max-height:100vh}.w-14{width:3.5rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-full{width:100%}.w-screen{width:100vw}.max-w-7xl{max-width:80rem}.max-w-sm{max-width:24rem}.max-w-xs{max-width:20rem}.flex-1{flex:1 1 0%}.flex-none{flex:none}.shrink-0{flex-shrink:0}.grow{flex-grow:1}.-translate-x-full{--tw-translate-x:-100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.break-words{overflow-wrap:break-word}.border-r{border-right-width:1px}.border-stone-200{--tw-border-opacity:1;border-color:rgb(231 229 228 / var(--tw-border-opacity))}.bg-stone-100{--tw-bg-opacity:1;background-color:rgb(245 245 244 / var(--tw-bg-opacity))}.bg-stone-50{--tw-bg-opacity:1;background-color:rgb(250 250 249 / var(--tw-bg-opacity))}.bg-stone-500{--tw-bg-opacity:1;background-color:rgb(120 113 108 / var(--tw-bg-opacity))}.bg-stone-600{--tw-bg-opacity:1;background-color:rgb(87 83 78 / var(--tw-bg-opacity))}.p-2{padding:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-0{padding-top:0;padding-bottom:0}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-5{padding-top:1.25rem;padding-bottom:1.25rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-8{padding-bottom:2rem}.pt-20{padding-top:5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.leading-6{line-height:1.5rem}.tracking-wide{letter-spacing:.025em}.text-stone-400{--tw-text-opacity:1;color:rgb(168 162 158 / var(--tw-text-opacity))}.text-stone-500{--tw-text-opacity:1;color:rgb(120 113 108 / var(--tw-text-opacity))}.text-stone-600{--tw-text-opacity:1;color:rgb(87 83 78 / var(--tw-text-opacity))}.text-stone-900{--tw-text-opacity:1;color:rgb(28 25 23 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:150ms}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:150ms}.duration-300{transition-duration:.3s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}@media (prefers-color-scheme:dark){.dark\:prose-invert{--tw-prose-body:var(--tw-prose-invert-body);--tw-prose-headings:var(--tw-prose-invert-headings);--tw-prose-lead:var(--tw-prose-invert-lead);--tw-prose-links:var(--tw-prose-invert-links);--tw-prose-bold:var(--tw-prose-invert-bold);--tw-prose-counters:var(--tw-prose-invert-counters);--tw-prose-bullets:var(--tw-prose-invert-bullets);--tw-prose-hr:var(--tw-prose-invert-hr);--tw-prose-quotes:var(--tw-prose-invert-quotes);--tw-prose-quote-borders:var(--tw-prose-invert-quote-borders);--tw-prose-captions:var(--tw-prose-invert-captions);--tw-prose-code:var(--tw-prose-invert-code);--tw-prose-pre-code:var(--tw-prose-invert-pre-code);--tw-prose-pre-bg:var(--tw-prose-invert-pre-bg);--tw-prose-th-borders:var(--tw-prose-invert-th-borders);--tw-prose-td-borders:var(--tw-prose-invert-td-borders)}}@media print{.print\:prose-sm{font-size:.875rem;line-height:1.7142857}.print\:prose-sm :where(p):not(:where([class~=not-prose]*)){margin-top:1.1428571em;margin-bottom:1.1428571em}.print\:prose-sm :where([class~=lead]):not(:where([class~=not-prose]*)){font-size:1.2857143em;line-height:1.5555556;margin-top:.8888889em;margin-bottom:.8888889em}.print\:prose-sm :where(blockquote):not(:where([class~=not-prose]*)){margin-top:1.3333333em;margin-bottom:1.3333333em;padding-left:1.1111111em}.print\:prose-sm :where(h1):not(:where([class~=not-prose]*)){font-size:2.1428571em;margin-top:0;margin-bottom:.8em;line-height:1.2}.print\:prose-sm :where(h2):not(:where([class~=not-prose]*)){font-size:1.4285714em;margin-top:1.6em;margin-bottom:.8em;line-height:1.4}.print\:prose-sm :where(h3):not(:where([class~=not-prose]*)){font-size:1.2857143em;margin-top:1.5555556em;margin-bottom:.4444444em;line-height:1.5555556}.print\:prose-sm :where(h4):not(:where([class~=not-prose]*)){margin-top:1.4285714em;margin-bottom:.5714286em;line-height:1.4285714}.print\:prose-sm :where(img):not(:where([class~=not-prose]*)){margin-top:1.7142857em;margin-bottom:1.7142857em}.print\:prose-sm :where(video):not(:where([class~=not-prose]*)){margin-top:1.7142857em;margin-bottom:1.7142857em}.print\:prose-sm :where(figure):not(:where([class~=not-prose]*)){margin-top:1.7142857em;margin-bottom:1.7142857em}.print\:prose-sm :where(figure>*):not(:where([class~=not-prose]*)){margin-top:0;margin-bottom:0}.print\:prose-sm :where(figcaption):not(:where([class~=not-prose]*)){font-size:.8571429em;line-height:1.3333333;margin-top:.6666667em}.print\:prose-sm :where(code):not(:where([class~=not-prose]*)){font-size:.8571429em}.print\:prose-sm :where(h2code):not(:where([class~=not-prose]*)){font-size:.9em}.print\:prose-sm :where(h3code):not(:where([class~=not-prose]*)){font-size:.8888889em}.print\:prose-sm :where(pre):not(:where([class~=not-prose]*)){font-size:.8571429em;line-height:1.6666667;margin-top:1.6666667em;margin-bottom:1.6666667em;border-radius:.25rem;padding-top:.6666667em;padding-right:1em;padding-bottom:.6666667em;padding-left:1em}.print\:prose-sm :where(ol):not(:where([class~=not-prose]*)){margin-top:1.1428571em;margin-bottom:1.1428571em;padding-left:1.5714286em}.print\:prose-sm :where(ul):not(:where([class~=not-prose]*)){margin-top:1.1428571em;margin-bottom:1.1428571em;padding-left:1.5714286em}.print\:prose-sm :where(li):not(:where([class~=not-prose]*)){margin-top:.2857143em;margin-bottom:.2857143em}.print\:prose-sm :where(ol>li):not(:where([class~=not-prose]*)){padding-left:.4285714em}.print\:prose-sm :where(ul>li):not(:where([class~=not-prose]*)){padding-left:.4285714em}.print\:prose-sm :where(.print\:prose-sm>ul>lip):not(:where([class~=not-prose]*)){margin-top:.5714286em;margin-bottom:.5714286em}.print\:prose-sm :where(.print\:prose-sm>ul>li>:first-child):not(:where([class~=not-prose]*)){margin-top:1.1428571em}.print\:prose-sm :where(.print\:prose-sm>ul>li>:last-child):not(:where([class~=not-prose]*)){margin-bottom:1.1428571em}.print\:prose-sm :where(.print\:prose-sm>ol>li>:first-child):not(:where([class~=not-prose]*)){margin-top:1.1428571em}.print\:prose-sm :where(.print\:prose-sm>ol>li>:last-child):not(:where([class~=not-prose]*)){margin-bottom:1.1428571em}.print\:prose-sm :where(ulul,ulol,olul,olol):not(:where([class~=not-prose]*)){margin-top:.5714286em;margin-bottom:.5714286em}.print\:prose-sm :where(hr):not(:where([class~=not-prose]*)){margin-top:2.8571429em;margin-bottom:2.8571429em}.print\:prose-sm :where(hr+*):not(:where([class~=not-prose]*)){margin-top:0}.print\:prose-sm :where(h2+*):not(:where([class~=not-prose]*)){margin-top:0}.print\:prose-sm :where(h3+*):not(:where([class~=not-prose]*)){margin-top:0}.print\:prose-sm :where(h4+*):not(:where([class~=not-prose]*)){margin-top:0}.print\:prose-sm :where(table):not(:where([class~=not-prose]*)){font-size:.8571429em;line-height:1.5}.print\:prose-sm :where(theadth):not(:where([class~=not-prose]*)){padding-right:1em;padding-bottom:.6666667em;padding-left:1em}.print\:prose-sm :where(theadth:first-child):not(:where([class~=not-prose]*)){padding-left:0}.print\:prose-sm :where(theadth:last-child):not(:where([class~=not-prose]*)){padding-right:0}.print\:prose-sm :where(tbodytd,tfoottd):not(:where([class~=not-prose]*)){padding-top:.6666667em;padding-right:1em;padding-bottom:.6666667em;padding-left:1em}.print\:prose-sm :where(tbodytd:first-child,tfoottd:first-child):not(:where([class~=not-prose]*)){padding-left:0}.print\:prose-sm :where(tbodytd:last-child,tfoottd:last-child):not(:where([class~=not-prose]*)){padding-right:0}.print\:prose-sm :where(.print\:prose-sm>:first-child):not(:where([class~=not-prose]*)){margin-top:0}.print\:prose-sm :where(.print\:prose-sm>:last-child):not(:where([class~=not-prose]*)){margin-bottom:0}}@media (min-width:1024px){.lg\:prose-lg{font-size:1.125rem;line-height:1.7777778}.lg\:prose-lg :where(p):not(:where([class~=not-prose]*)){margin-top:1.3333333em;margin-bottom:1.3333333em}.lg\:prose-lg :where([class~=lead]):not(:where([class~=not-prose]*)){font-size:1.2222222em;line-height:1.4545455;margin-top:1.0909091em;margin-bottom:1.0909091em}.lg\:prose-lg :where(blockquote):not(:where([class~=not-prose]*)){margin-top:1.6666667em;margin-bottom:1.6666667em;padding-left:1em}.lg\:prose-lg :where(h1):not(:where([class~=not-prose]*)){font-size:2.6666667em;margin-top:0;margin-bottom:.8333333em;line-height:1}.lg\:prose-lg :where(h2):not(:where([class~=not-prose]*)){font-size:1.6666667em;margin-top:1.8666667em;margin-bottom:1.0666667em;line-height:1.3333333}.lg\:prose-lg :where(h3):not(:where([class~=not-prose]*)){font-size:1.3333333em;margin-top:1.6666667em;margin-bottom:.6666667em;line-height:1.5}.lg\:prose-lg :where(h4):not(:where([class~=not-prose]*)){margin-top:1.7777778em;margin-bottom:.4444444em;line-height:1.5555556}.lg\:prose-lg :where(img):not(:where([class~=not-prose]*)){margin-top:1.7777778em;margin-bottom:1.7777778em}.lg\:prose-lg :where(video):not(:where([class~=not-prose]*)){margin-top:1.7777778em;margin-bottom:1.7777778em}.lg\:prose-lg :where(figure):not(:where([class~=not-prose]*)){margin-top:1.7777778em;margin-bottom:1.7777778em}.lg\:prose-lg :where(figure>*):not(:where([class~=not-prose]*)){margin-top:0;margin-bottom:0}.lg\:prose-lg :where(figcaption):not(:where([class~=not-prose]*)){font-size:.8888889em;line-height:1.5;margin-top:1em}.lg\:prose-lg :where(code):not(:where([class~=not-prose]*)){font-size:.8888889em}.lg\:prose-lg :where(h2code):not(:where([class~=not-prose]*)){font-size:.8666667em}.lg\:prose-lg :where(h3code):not(:where([class~=not-prose]*)){font-size:.875em}.lg\:prose-lg :where(pre):not(:where([class~=not-prose]*)){font-size:.8888889em;line-height:1.75;margin-top:2em;margin-bottom:2em;border-radius:.375rem;padding-top:1em;padding-right:1.5em;padding-bottom:1em;padding-left:1.5em}.lg\:prose-lg :where(ol):not(:where([class~=not-prose]*)){margin-top:1.3333333em;margin-bottom:1.3333333em;padding-left:1.5555556em}.lg\:prose-lg :where(ul):not(:where([class~=not-prose]*)){margin-top:1.3333333em;margin-bottom:1.3333333em;padding-left:1.5555556em}.lg\:prose-lg :where(li):not(:where([class~=not-prose]*)){margin-top:.6666667em;margin-bottom:.6666667em}.lg\:prose-lg :where(ol>li):not(:where([class~=not-prose]*)){padding-left:.4444444em}.lg\:prose-lg :where(ul>li):not(:where([class~=not-prose]*)){padding-left:.4444444em}.lg\:prose-lg :where(.lg\:prose-lg>ul>lip):not(:where([class~=not-prose]*)){margin-top:.8888889em;margin-bottom:.8888889em}.lg\:prose-lg :where(.lg\:prose-lg>ul>li>:first-child):not(:where([class~=not-prose]*)){margin-top:1.3333333em}.lg\:prose-lg :where(.lg\:prose-lg>ul>li>:last-child):not(:where([class~=not-prose]*)){margin-bottom:1.3333333em}.lg\:prose-lg :where(.lg\:prose-lg>ol>li>:first-child):not(:where([class~=not-prose]*)){margin-top:1.3333333em}.lg\:prose-lg :where(.lg\:prose-lg>ol>li>:last-child):not(:where([class~=not-prose]*)){margin-bottom:1.3333333em}.lg\:prose-lg :where(ulul,ulol,olul,olol):not(:where([class~=not-prose]*)){margin-top:.8888889em;margin-bottom:.8888889em}.lg\:prose-lg :where(hr):not(:where([class~=not-prose]*)){margin-top:3.1111111em;margin-bottom:3.1111111em}.lg\:prose-lg :where(hr+*):not(:where([class~=not-prose]*)){margin-top:0}.lg\:prose-lg :where(h2+*):not(:where([class~=not-prose]*)){margin-top:0}.lg\:prose-lg :where(h3+*):not(:where([class~=not-prose]*)){margin-top:0}.lg\:prose-lg :where(h4+*):not(:where([class~=not-prose]*)){margin-top:0}.lg\:prose-lg :where(table):not(:where([class~=not-prose]*)){font-size:.8888889em;line-height:1.5}.lg\:prose-lg :where(theadth):not(:where([class~=not-prose]*)){padding-right:.75em;padding-bottom:.75em;padding-left:.75em}.lg\:prose-lg :where(theadth:first-child):not(:where([class~=not-prose]*)){padding-left:0}.lg\:prose-lg :where(theadth:last-child):not(:where([class~=not-prose]*)){padding-right:0}.lg\:prose-lg :where(tbodytd,tfoottd):not(:where([class~=not-prose]*)){padding-top:.75em;padding-right:.75em;padding-bottom:.75em;padding-left:.75em}.lg\:prose-lg :where(tbodytd:first-child,tfoottd:first-child):not(:where([class~=not-prose]*)){padding-left:0}.lg\:prose-lg :where(tbodytd:last-child,tfoottd:last-child):not(:where([class~=not-prose]*)){padding-right:0}.lg\:prose-lg :where(.lg\:prose-lg>:first-child):not(:where([class~=not-prose]*)){margin-top:0}.lg\:prose-lg :where(.lg\:prose-lg>:last-child):not(:where([class~=not-prose]*)){margin-bottom:0}}@media (min-width:1280px){.xl\:prose-xl{font-size:1.25rem;line-height:1.8}.xl\:prose-xl :where(p):not(:where([class~=not-prose]*)){margin-top:1.2em;margin-bottom:1.2em}.xl\:prose-xl :where([class~=lead]):not(:where([class~=not-prose]*)){font-size:1.2em;line-height:1.5;margin-top:1em;margin-bottom:1em}.xl\:prose-xl :where(blockquote):not(:where([class~=not-prose]*)){margin-top:1.6em;margin-bottom:1.6em;padding-left:1.0666667em}.xl\:prose-xl :where(h1):not(:where([class~=not-prose]*)){font-size:2.8em;margin-top:0;margin-bottom:.8571429em;line-height:1}.xl\:prose-xl :where(h2):not(:where([class~=not-prose]*)){font-size:1.8em;margin-top:1.5555556em;margin-bottom:.8888889em;line-height:1.1111111}.xl\:prose-xl :where(h3):not(:where([class~=not-prose]*)){font-size:1.5em;margin-top:1.6em;margin-bottom:.6666667em;line-height:1.3333333}.xl\:prose-xl :where(h4):not(:where([class~=not-prose]*)){margin-top:1.8em;margin-bottom:.6em;line-height:1.6}.xl\:prose-xl :where(img):not(:where([class~=not-prose]*)){margin-top:2em;margin-bottom:2em}.xl\:prose-xl :where(video):not(:where([class~=not-prose]*)){margin-top:2em;margin-bottom:2em}.xl\:prose-xl :where(figure):not(:where([class~=not-prose]*)){margin-top:2em;margin-bottom:2em}.xl\:prose-xl :where(figure>*):not(:where([class~=not-prose]*)){margin-top:0;margin-bottom:0}.xl\:prose-xl :where(figcaption):not(:where([class~=not-prose]*)){font-size:.9em;line-height:1.5555556;margin-top:1em}.xl\:prose-xl :where(code):not(:where([class~=not-prose]*)){font-size:.9em}.xl\:prose-xl :where(h2code):not(:where([class~=not-prose]*)){font-size:.8611111em}.xl\:prose-xl :where(h3code):not(:where([class~=not-prose]*)){font-size:.9em}.xl\:prose-xl :where(pre):not(:where([class~=not-prose]*)){font-size:.9em;line-height:1.7777778;margin-top:2em;margin-bottom:2em;border-radius:.5rem;padding-top:1.1111111em;padding-right:1.3333333em;padding-bottom:1.1111111em;padding-left:1.3333333em}.xl\:prose-xl :where(ol):not(:where([class~=not-prose]*)){margin-top:1.2em;margin-bottom:1.2em;padding-left:1.6em}.xl\:prose-xl :where(ul):not(:where([class~=not-prose]*)){margin-top:1.2em;margin-bottom:1.2em;padding-left:1.6em}.xl\:prose-xl :where(li):not(:where([class~=not-prose]*)){margin-top:.6em;margin-bottom:.6em}.xl\:prose-xl :where(ol>li):not(:where([class~=not-prose]*)){padding-left:.4em}.xl\:prose-xl :where(ul>li):not(:where([class~=not-prose]*)){padding-left:.4em}.xl\:prose-xl :where(.xl\:prose-xl>ul>lip):not(:where([class~=not-prose]*)){margin-top:.8em;margin-bottom:.8em}.xl\:prose-xl :where(.xl\:prose-xl>ul>li>:first-child):not(:where([class~=not-prose]*)){margin-top:1.2em}.xl\:prose-xl :where(.xl\:prose-xl>ul>li>:last-child):not(:where([class~=not-prose]*)){margin-bottom:1.2em}.xl\:prose-xl :where(.xl\:prose-xl>ol>li>:first-child):not(:where([class~=not-prose]*)){margin-top:1.2em}.xl\:prose-xl :where(.xl\:prose-xl>ol>li>:last-child):not(:where([class~=not-prose]*)){margin-bottom:1.2em}.xl\:prose-xl :where(ulul,ulol,olul,olol):not(:where([class~=not-prose]*)){margin-top:.8em;margin-bottom:.8em}.xl\:prose-xl :where(hr):not(:where([class~=not-prose]*)){margin-top:2.8em;margin-bottom:2.8em}.xl\:prose-xl :where(hr+*):not(:where([class~=not-prose]*)){margin-top:0}.xl\:prose-xl :where(h2+*):not(:where([class~=not-prose]*)){margin-top:0}.xl\:prose-xl :where(h3+*):not(:where([class~=not-prose]*)){margin-top:0}.xl\:prose-xl :where(h4+*):not(:where([class~=not-prose]*)){margin-top:0}.xl\:prose-xl :where(table):not(:where([class~=not-prose]*)){font-size:.9em;line-height:1.5555556}.xl\:prose-xl :where(theadth):not(:where([class~=not-prose]*)){padding-right:.6666667em;padding-bottom:.8888889em;padding-left:.6666667em}.xl\:prose-xl :where(theadth:first-child):not(:where([class~=not-prose]*)){padding-left:0}.xl\:prose-xl :where(theadth:last-child):not(:where([class~=not-prose]*)){padding-right:0}.xl\:prose-xl :where(tbodytd,tfoottd):not(:where([class~=not-prose]*)){padding-top:.8888889em;padding-right:.6666667em;padding-bottom:.8888889em;padding-left:.6666667em}.xl\:prose-xl :where(tbodytd:first-child,tfoottd:first-child):not(:where([class~=not-prose]*)){padding-left:0}.xl\:prose-xl :where(tbodytd:last-child,tfoottd:last-child):not(:where([class~=not-prose]*)){padding-right:0}.xl\:prose-xl :where(.xl\:prose-xl>:first-child):not(:where([class~=not-prose]*)){margin-top:0}.xl\:prose-xl :where(.xl\:prose-xl>:last-child):not(:where([class~=not-prose]*)){margin-bottom:0}}.hover\:text-stone-500:hover{--tw-text-opacity:1;color:rgb(120 113 108 / var(--tw-text-opacity))}.hover\:text-stone-900:hover{--tw-text-opacity:1;color:rgb(28 25 23 / var(--tw-text-opacity))}.focus\:text-black:focus{--tw-text-opacity:1;color:rgb(0 0 0 / var(--tw-text-opacity))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.group:hover .group-hover\:text-stone-500{--tw-text-opacity:1;color:rgb(120 113 108 / var(--tw-text-opacity))}.group:focus .group-focus\:text-stone-500{--tw-text-opacity:1;color:rgb(120 113 108 / var(--tw-text-opacity))}.prose-code\:before\:content-none :is(:where(code):not(:where([class~=not-prose]*)))::before{--tw-content:none;content:var(--tw-content)}.prose-code\:after\:content-none :is(:where(code):not(:where([class~=not-prose]*)))::after{--tw-content:none;content:var(--tw-content)}@media (prefers-color-scheme:dark){.dark\:border-r-2{border-right-width:2px}.dark\:border-stone-700{--tw-border-opacity:1;border-color:rgb(68 64 60 / var(--tw-border-opacity))}.dark\:bg-stone-800{--tw-bg-opacity:1;background-color:rgb(41 37 36 / var(--tw-bg-opacity))}.dark\:bg-stone-900{--tw-bg-opacity:1;background-color:rgb(28 25 23 / var(--tw-bg-opacity))}.dark\:text-stone-100{--tw-text-opacity:1;color:rgb(245 245 244 / var(--tw-text-opacity))}.dark\:text-stone-300{--tw-text-opacity:1;color:rgb(214 211 209 / var(--tw-text-opacity))}.dark\:text-stone-400{--tw-text-opacity:1;color:rgb(168 162 158 / var(--tw-text-opacity))}.dark\:text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))}.dark\:hover\:text-stone-100:hover{--tw-text-opacity:1;color:rgb(245 245 244 / var(--tw-text-opacity))}.dark\:hover\:text-stone-300:hover{--tw-text-opacity:1;color:rgb(214 211 209 / var(--tw-text-opacity))}.dark\:hover\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))}.dark\:focus\:text-white:focus{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))}.group:hover .dark\:group-hover\:text-stone-300{--tw-text-opacity:1;color:rgb(214 211 209 / var(--tw-text-opacity))}.group:focus .dark\:group-focus\:text-stone-300{--tw-text-opacity:1;color:rgb(214 211 209 / var(--tw-text-opacity))}}@media print{.print\:hidden{display:none}.print\:max-w-none{max-width:none}.print\:\!py-0{padding-top:0!important;padding-bottom:0!important}.print\:px-0{padding-left:0;padding-right:0}}@media (min-width:640px){.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}}@media (min-width:768px){.md\:visible{visibility:visible}.md\:sticky{position:sticky}.md\:mr-3{margin-right:.75rem}.md\:flex{display:flex}.md\:hidden{display:none}.md\:h-16{height:4rem}.md\:w-64{width:16rem}.md\:flex-1{flex:1 1 0%}.md\:flex-initial{flex:0 1 auto}.md\:translate-x-0{--tw-translate-x:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.md\:flex-col{flex-direction:column}.md\:px-8{padding-left:2rem;padding-right:2rem}.md\:py-0{padding-top:0;padding-bottom:0}.md\:py-12{padding-top:3rem;padding-bottom:3rem}.md\:py-4{padding-top:1rem;padding-bottom:1rem}.md\:pb-0{padding-bottom:0}.md\:text-sm{font-size:.875rem;line-height:1.25rem}.md\:leading-5{line-height:1.25rem}.md\:transition-none{transition-property:none}}@media (min-width:1024px){.lg\:flex{display:flex}.lg\:flex-col{flex-direction:column}.lg\:text-xs{font-size:.75rem;line-height:1rem}}</style><link href="https://rsms.me/inter/inter.css" rel="stylesheet"><link href="/img/Icon.png?v=1744475481970" rel="icon" type="image/png"><meta name="darkreader-lock"><title>Infinite background shader - Learn MonoGame</title><meta content="Tile an infinite background in no time! This tutorial will teach you how to write a shader that will tile a background infinitely or along any axis." name="description"><meta content="Infinite background shader - Learn MonoGame" name="twitter:title"><meta content="Tile an infinite background in no time! This tutorial will teach you how to write a shader that will tile a background infinitely or along any axis." name="twitter:description"><meta content="Infinite background shader - Learn MonoGame" property="og:title"><meta content="Tile an infinite background in no time! This tutorial will teach you how to write a shader that will tile a background infinitely or along any axis." property="og:description"></head><body class="bg-stone-100 dark:bg-stone-900"><div class="md:hidden top-0 bg-stone-100 dark:bg-stone-900 h-16 print:hidden sticky w-full z-10"></div><div class="flex"><div class="flex-none fixed h-screen max-h-screen md:sticky overflow-x-hidden overflow-y-auto pointer-events-none print:hidden top-0 z-20"><div class="flex md:w-64 -ml-px h-full max-w-sm relative w-screen"><input aria-hidden="true" class="menu-btn absolute opacity-0" id="menu_btn" type="checkbox"> <label class="duration-300 ease-out md:hidden bg-stone-600 big-label fixed inset-0 opacity-0 pointer-events-none transition-opacity" for="menu_btn"></label> <label class="inline-block -ml-16 absolute cursor-pointer duration-300 ease-out left-full md:hidden menu-icon pointer-events-auto px-6 py-8 select-none top-0 transition-left z-20" for="menu_btn"><span class="block bg-stone-500 duration-300 ease-out h-2px navicon relative transition-colors w-5"></span></label><div class="flex flex-1 -translate-x-full bg-stone-50 border-r border-stone-200 dark:bg-stone-800 dark:border-r-2 dark:border-stone-700 duration-300 ease-out flex-col invisible max-w-xs md:flex-initial md:transition-none md:translate-x-0 md:visible md:w-64 menu pointer-events-auto transform transition-transform-visibility w-full"><div class="flex items-center shrink-0 h-auto md:h-16 md:py-0 px-4 py-5"><a href="/" class="text-stone-900 dark:hover:text-white dark:text-stone-300 hover:text-stone-900 text-lg">Learn MonoGame</a></div><div class="overflow-y-auto flex-1 h-0 md:flex md:flex-col"><nav class="md:flex-1 md:py-4 px-2 space-y-1"><ul><li class="mt-1"><a href="/how-to/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> How-to guides</a><ul class="ml-4"><li class="mt-1"><a href="/how-to/get-started/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> Get started</a></li><li class="mt-1"><a href="/how-to/develop-vscode/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> Developing with Visual Studio Code</a></li><li class="mt-1"><a href="/how-to/automate-release/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> Automate release</a></li><li class="mt-1"><a href="/how-to/install-develop/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> Install a development MonoGame build</a></li><li class="mt-1"><a href="/how-to/fullscreen/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> Fullscreen mode</a></li><li class="mt-1"><a href="/how-to/custom-icon/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> Customize the game icon</a></li></ul></li><li class="mt-1"><a href="/tutorial/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> Tutorials</a><ul class="ml-4"><li class="mt-1"><a href="/tutorial/first-shader/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> First shader</a></li><li class="mt-1"><span class="py-2 px-2 flex font-medium group items-center leading-6 md:leading-5 md:text-sm text-base dark:text-white text-stone-900 underline"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:text-stone-300 text-stone-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> Infinite background shader</span></li><li class="mt-1"><a href="/tutorial/first-batcher/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> First batcher</a></li><li class="mt-1"><a href="/tutorial/game-settings/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> Persistent game settings</a></li></ul></li><li class="mt-1"><a href="/external/" class="py-2 hover:text-stone-900 dark:focus:text-white dark:hover:text-white dark:text-stone-300 flex focus:text-black font-medium group items-center leading-6 md:leading-5 md:text-sm px-2 text-base text-stone-600"><svg class="h-6 w-6 flex-none md:mr-3 mr-4 dark:group-focus:text-stone-300 dark:group-hover:text-stone-300 group-focus:text-stone-500 group-hover:text-stone-500 text-stone-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M 9,12 a 3,3 0 1,1 6,0 a 3,3 0 1,1 -6,0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg> External links</a></li></ul></nav></div><div class="flex items-center shrink-0 justify-center p-2"><ul class="flex"><li><a href="https://github.com/MonoGame/MonoGame" class="py-2 px-2 dark:hover:text-stone-300 hover:text-stone-500 inline-block text-stone-400" target="_blank"><span class="sr-only">GitHub</span> <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></li><li><a href="https://discord.gg/monogame" class="py-2 px-2 dark:hover:text-stone-300 hover:text-stone-500 inline-block text-stone-400" target="_blank"><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"/></svg></a></li><li><a href="https://community.monogame.net/" class="py-2 px-2 dark:hover:text-stone-300 hover:text-stone-500 inline-block text-stone-400" target="_blank"><span class="sr-only">Discourse</span> <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12.103 0C18.666 0 24 5.485 24 11.997c0 6.51-5.33 11.99-11.9 11.99L0 24V11.79C0 5.28 5.532 0 12.103 0zm.116 4.563c-2.593-.003-4.996 1.352-6.337 3.57-1.33 2.208-1.387 4.957-.148 7.22L4.4 19.61l4.794-1.074c2.745 1.225 5.965.676 8.136-1.39 2.17-2.054 2.86-5.228 1.737-7.997-1.135-2.778-3.84-4.59-6.84-4.585h-.008z"/></svg></a></li><li><a href="https://www.reddit.com/r/monogame/" class="py-2 px-2 dark:hover:text-stone-300 hover:text-stone-500 inline-block text-stone-400" target="_blank"><span class="sr-only">Reddit</span> <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/></svg></a></li></ul></div></div><div class="md:hidden shrink-0 w-14"></div></div></div><div class="flex flex-1 flex-row-reverse max-w-7xl mx-auto"><div class="bg-stone-100 dark:bg-stone-900 sticky top-0 h-screen hidden lg:flex lg:flex-col overflow-y-hidden pt-20 w-64"><h5 class="text-stone-900 dark:text-stone-100 font-semibold lg:text-xs mb-3 text-sm tracking-wide uppercase">On this page</h5><div class="overflow-y-auto overflow-x-hidden break-words font-medium text-sm"><nav><ol><li><a href="#project-setup" class="py-2 hover:text-stone-900 block dark:hover:text-stone-100 dark:text-stone-400 text-stone-500">Project setup</a><ol><li class="ml-4"><a href="#libraries" class="py-2 hover:text-stone-900 block dark:hover:text-stone-100 dark:text-stone-400 text-stone-500">Libraries</a><ol></ol></li><li class="ml-4"><a href="#assets" class="py-2 hover:text-stone-900 block dark:hover:text-stone-100 dark:text-stone-400 text-stone-500">Assets</a><ol></ol></li><li class="ml-4"><a href="#content-pipeline" class="py-2 hover:text-stone-900 block dark:hover:text-stone-100 dark:text-stone-400 text-stone-500">Content pipeline</a><ol></ol></li><li class="ml-4"><a href="#source-code" class="py-2 hover:text-stone-900 block dark:hover:text-stone-100 dark:text-stone-400 text-stone-500">Source code</a><ol><li class="ml-4"><a href="#game1.cs" class="py-2 hover:text-stone-900 block dark:hover:text-stone-100 dark:text-stone-400 text-stone-500">Game1.cs</a><ol></ol></li></ol></li></ol></li><li><a href="#explanation" class="py-2 hover:text-stone-900 block dark:hover:text-stone-100 dark:text-stone-400 text-stone-500">Explanation</a><ol></ol></li></ol></nav></div></div><div class="flex flex-1 justify-center"><main class="px-4 break-anywhere dark:prose-invert focus:outline-none grow lg:prose-lg md:px-8 md:py-12 print:!py-0 print:max-w-none print:prose-sm print:px-0 prose prose-code:after:content-none prose-code:before:content-none prose-stone py-0 sm:px-6 xl:prose-xl" tabindex="0"><h1 id="infinite-background-shader">Infinite background shader</h1><p>Tile an infinite background in no time! This tutorial will teach you how to write a shader that will tile a background infinitely or along any axis.</p><p>This tutorial builds on top of <a href="/how-to/get-started/">Get started</a> and <a href="/tutorial/first-shader/">First shader</a>.</p><p>The first part of this tutorial will walk you through the project setup without explaining much. Once the project is setup and you can run it, you’ll be walked through it line by line to understand how everything works under the hood.</p><h2 id="project-setup">Project setup</h2><p>The completed project can be found <a href="https://github.com/learn-monogame/infinite-background-shader" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 id="libraries">Libraries</h3><p>This tutorial relies on the <a href="https://github.com/Apostolique/Apos.Input" target="_blank" rel="noopener noreferrer">Apos.Input</a> library.</p><p>You can install it with the following command:</p><div class="code-select"><div class="code-highlight"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span></span>dotnet add package Apos.Input
</code></pre></div></div><p>Apos.Input provides a simplified API over the MonoGame mouse and keyboard API.</p><h3 id="assets">Assets</h3><p>Add the following image to the <code>Content</code> folder and call it <code>background.png</code>:</p><p><img alt="The background image" src="/tutorial/infinite-background-shader/background.png"></p><p>Next to it, create a text file called <code>infinite.fx</code>. Add the following text to it:</p><div class="code-select"><div class="code-highlight" lang="hlsl"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">if</span> <span class="token expression">OPENGL</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">define</span> <span class="token macro-name">VS_SHADERMODEL</span> <span class="token expression">vs_3_0</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">define</span> <span class="token macro-name">PS_SHADERMODEL</span> <span class="token expression">ps_3_0</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">else</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">define</span> <span class="token macro-name">VS_SHADERMODEL</span> <span class="token expression">vs_4_0</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">define</span> <span class="token macro-name">PS_SHADERMODEL</span> <span class="token expression">ps_4_0</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token keyword directive">endif</span></span>

<span class="token keyword keyword-float4x4">float4x4</span> view_projection<span class="token punctuation">;</span>
<span class="token keyword keyword-float4x4">float4x4</span> uv_transform<span class="token punctuation">;</span>
<span class="token keyword keyword-sampler">sampler</span> TextureSampler <span class="token operator">:</span> <span class="token keyword keyword-register">register</span><span class="token punctuation">(</span>s0<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">VertexInput</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-float4">float4</span> Position <span class="token operator">:</span> POSITION0<span class="token punctuation">;</span>
    <span class="token keyword keyword-float4">float4</span> Color <span class="token operator">:</span> COLOR0<span class="token punctuation">;</span>
    <span class="token keyword keyword-float4">float4</span> TexCoord <span class="token operator">:</span> TEXCOORD0<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">PixelInput</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-float4">float4</span> Position <span class="token operator">:</span> SV_Position0<span class="token punctuation">;</span>
    <span class="token keyword keyword-float4">float4</span> Color <span class="token operator">:</span> COLOR0<span class="token punctuation">;</span>
    <span class="token keyword keyword-float4">float4</span> TexCoord <span class="token operator">:</span> TEXCOORD0<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

PixelInput <span class="token function">SpriteVertexShader</span><span class="token punctuation">(</span>VertexInput v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PixelInput output<span class="token punctuation">;</span>

    output<span class="token punctuation">.</span>Position <span class="token operator">=</span> <span class="token function">mul</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>Position<span class="token punctuation">,</span> view_projection<span class="token punctuation">)</span><span class="token punctuation">;</span>
    output<span class="token punctuation">.</span>Color <span class="token operator">=</span> v<span class="token punctuation">.</span>Color<span class="token punctuation">;</span>
    output<span class="token punctuation">.</span>TexCoord <span class="token operator">=</span> <span class="token function">mul</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>TexCoord<span class="token punctuation">,</span> uv_transform<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> output<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-float4">float4</span> <span class="token function">SpritePixelShader</span><span class="token punctuation">(</span>PixelInput p<span class="token punctuation">)</span> <span class="token operator">:</span> SV_TARGET <span class="token punctuation">{</span>
    <span class="token keyword keyword-float4">float4</span> diffuse <span class="token operator">=</span> <span class="token function">tex2D</span><span class="token punctuation">(</span>TextureSampler<span class="token punctuation">,</span> p<span class="token punctuation">.</span>TexCoord<span class="token punctuation">.</span>xy<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// if (p.TexCoord.x &lt; 0 || p.TexCoord.x > 1) {</span>
    <span class="token comment">//     discard;</span>
    <span class="token comment">// }</span>

    <span class="token comment">// if (p.TexCoord.y &lt; 0 || p.TexCoord.y > 1) {</span>
    <span class="token comment">//     discard;</span>
    <span class="token comment">// }</span>

    <span class="token keyword keyword-return">return</span> diffuse <span class="token operator">*</span> p<span class="token punctuation">.</span>Color<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-technique">technique</span> SpriteBatch <span class="token punctuation">{</span>
    <span class="token keyword keyword-pass">pass</span> <span class="token punctuation">{</span>
        <span class="token class-name">VertexShader</span> <span class="token operator">=</span> <span class="token keyword keyword-compile">compile</span> VS_SHADERMODEL <span class="token function">SpriteVertexShader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PixelShader</span> <span class="token operator">=</span> <span class="token keyword keyword-compile">compile</span> PS_SHADERMODEL <span class="token function">SpritePixelShader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div><h3 id="content-pipeline">Content pipeline</h3><p>Open <code>Content.mgcb</code> using the MonoGame Content Builder Editor interface. (Read <a href="/how-to/get-started/">Get started</a> to learn how to get it.) Add both to the content pipeline editor as an existing item:</p><p><img alt="Use existing item to add them to the MonoGame pipeline." src="/tutorial/infinite-background-shader/add-existing-item.png"></p><p>If you open <code>Content.mgcb</code> as a text file, this is the content you will see:</p><div class="code-select"><div class="code-highlight"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span>#----------------------------- Global Properties ----------------------------#

/outputDir:bin/$(Platform)
/intermediateDir:obj/$(Platform)
/platform:DesktopGL
/config:
/profile:HiDef
/compress:True

#-------------------------------- References --------------------------------#


#---------------------------------- Content ---------------------------------#

#begin background.png
/importer:TextureImporter
/processor:TextureProcessor
/processorParam:ColorKeyColor=255,0,255,255
/processorParam:ColorKeyEnabled=True
/processorParam:GenerateMipmaps=False
/processorParam:PremultiplyAlpha=True
/processorParam:ResizeToPowerOfTwo=False
/processorParam:MakeSquare=False
/processorParam:TextureFormat=Color
/build:background.png

#begin infinite.fx
/importer:EffectImporter
/processor:EffectProcessor
/processorParam:DebugMode=Auto
/build:infinite.fx
</code></pre></div></div><h3 id="source-code">Source code</h3><h4 id="game1.cs">Game1.cs</h4><div class="code-select"><div class="code-highlight" lang="csharp"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span class="token keyword keyword-using">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> <span class="token namespace">Apos<span class="token punctuation">.</span>Input</span><span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>Xna<span class="token punctuation">.</span>Framework</span><span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>Xna<span class="token punctuation">.</span>Framework<span class="token punctuation">.</span>Graphics</span><span class="token punctuation">;</span>
<span class="token keyword keyword-using">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>Xna<span class="token punctuation">.</span>Framework<span class="token punctuation">.</span>Input</span><span class="token punctuation">;</span>

<span class="token keyword keyword-namespace">namespace</span> <span class="token namespace">GameProject</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Game1</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Game</span></span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-public">public</span> <span class="token function">Game1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            _graphics <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name constructor-invocation">GraphicsDeviceManager</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                GraphicsProfile <span class="token operator">=</span> GraphicsProfile<span class="token punctuation">.</span>HiDef
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            IsMouseVisible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            Content<span class="token punctuation">.</span>RootDirectory <span class="token operator">=</span> <span class="token string">"Content"</span><span class="token punctuation">;</span>
            Window<span class="token punctuation">.</span>AllowUserResizing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-override">override</span> <span class="token class-name return-type"><span class="token keyword keyword-void">void</span></span> <span class="token function">Initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Window<span class="token punctuation">.</span>Title <span class="token operator">=</span> <span class="token string">"Infinite background shader"</span><span class="token punctuation">;</span>

            <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-override">override</span> <span class="token class-name return-type"><span class="token keyword keyword-void">void</span></span> <span class="token function">LoadContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            _s <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name constructor-invocation">SpriteBatch</span><span class="token punctuation">(</span>GraphicsDevice<span class="token punctuation">)</span><span class="token punctuation">;</span>

            InputHelper<span class="token punctuation">.</span><span class="token function">Setup</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            _background <span class="token operator">=</span> Content<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Load</span><span class="token class-name generic"><span class="token punctuation">&lt;</span>Texture2D<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"background"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _infinite <span class="token operator">=</span> Content<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Load</span><span class="token class-name generic"><span class="token punctuation">&lt;</span>Effect<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"infinite"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-override">override</span> <span class="token class-name return-type"><span class="token keyword keyword-void">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token class-name">GameTime</span> gameTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            InputHelper<span class="token punctuation">.</span><span class="token function">UpdateSetup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_quit<span class="token punctuation">.</span><span class="token function">Pressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token function">Exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">UpdateCameraInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            _scale <span class="token operator">=</span> <span class="token function">ExpToScale</span><span class="token punctuation">(</span><span class="token function">ExpDecay</span><span class="token punctuation">(</span><span class="token function">ScaleToExp</span><span class="token punctuation">(</span>_scale<span class="token punctuation">)</span><span class="token punctuation">,</span> _targetExp<span class="token punctuation">,</span> _decay<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword keyword-float">float</span><span class="token punctuation">)</span>gameTime<span class="token punctuation">.</span>ElapsedGameTime<span class="token punctuation">.</span>TotalMilliseconds<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _rotation <span class="token operator">=</span> <span class="token function">ExpDecay</span><span class="token punctuation">(</span>_rotation<span class="token punctuation">,</span> _targetRotation<span class="token punctuation">,</span> _decay<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword keyword-float">float</span><span class="token punctuation">)</span>gameTime<span class="token punctuation">.</span>ElapsedGameTime<span class="token punctuation">.</span>TotalMilliseconds<span class="token punctuation">)</span><span class="token punctuation">;</span>

            InputHelper<span class="token punctuation">.</span><span class="token function">UpdateCleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Update</span><span class="token punctuation">(</span>gameTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-override">override</span> <span class="token class-name return-type"><span class="token keyword keyword-void">void</span></span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token class-name">GameTime</span> gameTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            GraphicsDevice<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name"><span class="token keyword keyword-int">int</span></span> width <span class="token operator">=</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword keyword-int">int</span></span> height <span class="token operator">=</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Height<span class="token punctuation">;</span>

            <span class="token class-name">Matrix</span> projection <span class="token operator">=</span> Matrix<span class="token punctuation">.</span><span class="token function">CreateOrthographicOffCenter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Matrix</span> uv_transform <span class="token operator">=</span> <span class="token function">GetUVTransform</span><span class="token punctuation">(</span>_background<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name constructor-invocation">Vector2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">,</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">)</span><span class="token punctuation">;</span>

            _infinite<span class="token punctuation">.</span>Parameters<span class="token punctuation">[</span><span class="token string">"view_projection"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">SetValue</span><span class="token punctuation">(</span>Matrix<span class="token punctuation">.</span>Identity <span class="token operator">*</span> projection<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _infinite<span class="token punctuation">.</span>Parameters<span class="token punctuation">[</span><span class="token string">"uv_transform"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">SetValue</span><span class="token punctuation">(</span>Matrix<span class="token punctuation">.</span><span class="token function">Invert</span><span class="token punctuation">(</span>uv_transform<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            _s<span class="token punctuation">.</span><span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation named-parameter">effect</span><span class="token punctuation">:</span> _infinite<span class="token punctuation">,</span> <span class="token punctuation named-parameter">samplerState</span><span class="token punctuation">:</span> SamplerState<span class="token punctuation">.</span>LinearWrap<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _s<span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span>_background<span class="token punctuation">,</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Bounds<span class="token punctuation">,</span> Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _s<span class="token punctuation">.</span><span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span>gameTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword keyword-private">private</span> <span class="token class-name return-type"><span class="token keyword keyword-void">void</span></span> <span class="token function">UpdateCameraInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>MouseCondition<span class="token punctuation">.</span><span class="token function">Scrolled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name"><span class="token keyword keyword-int">int</span></span> scrollDelta <span class="token operator">=</span> MouseCondition<span class="token punctuation">.</span>ScrollDelta<span class="token punctuation">;</span>
                _targetExp <span class="token operator">=</span> MathHelper<span class="token punctuation">.</span><span class="token function">Clamp</span><span class="token punctuation">(</span>_targetExp <span class="token operator">-</span> scrollDelta <span class="token operator">*</span> _expDistance<span class="token punctuation">,</span> _maxExp<span class="token punctuation">,</span> _minExp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>RotateLeft<span class="token punctuation">.</span><span class="token function">Pressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                _targetRotation <span class="token operator">+=</span> MathHelper<span class="token punctuation">.</span>Pi <span class="token operator">/</span> <span class="token number">8f</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>RotateRight<span class="token punctuation">.</span><span class="token function">Pressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                _targetRotation <span class="token operator">-=</span> MathHelper<span class="token punctuation">.</span>Pi <span class="token operator">/</span> <span class="token number">8f</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            _mouseWorld <span class="token operator">=</span> Vector2<span class="token punctuation">.</span><span class="token function">Transform</span><span class="token punctuation">(</span>InputHelper<span class="token punctuation">.</span>NewMouse<span class="token punctuation">.</span>Position<span class="token punctuation">.</span><span class="token function">ToVector2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Matrix<span class="token punctuation">.</span><span class="token function">Invert</span><span class="token punctuation">(</span><span class="token function">GetView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>CameraDrag<span class="token punctuation">.</span><span class="token function">Pressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                _dragAnchor <span class="token operator">=</span> _mouseWorld<span class="token punctuation">;</span>
                _isDragged <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_isDragged <span class="token operator">&&</span> CameraDrag<span class="token punctuation">.</span><span class="token function">HeldOnly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                _xy <span class="token operator">+=</span> _dragAnchor <span class="token operator">-</span> _mouseWorld<span class="token punctuation">;</span>
                _mouseWorld <span class="token operator">=</span> _dragAnchor<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>_isDragged <span class="token operator">&&</span> CameraDrag<span class="token punctuation">.</span><span class="token function">Released</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                _isDragged <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">/// &lt;summary></span>
        <span class="token comment">/// More info at https://www.youtube.com/watch?v=LSNQuFEDOyQ</span>
        <span class="token comment">/// &lt;/summary></span>
        <span class="token comment">/// &lt;param name="start">The value to start from.&lt;/param></span>
        <span class="token comment">/// &lt;param name="target">The value to reach.&lt;/param></span>
        <span class="token comment">/// &lt;param name="decay">Exponential decay constant, lower is slower.&lt;/param></span>
        <span class="token comment">/// &lt;param name="deltaTime">The time since the last frame.&lt;/param></span>
        <span class="token comment">/// &lt;returns>&lt;/returns></span>
        <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token class-name return-type"><span class="token keyword keyword-float">float</span></span> <span class="token function">ExpDecay</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-float">float</span></span> start<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> target<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> decay<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> deltaTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> target <span class="token operator">+</span> <span class="token punctuation">(</span>start <span class="token operator">-</span> target<span class="token punctuation">)</span> <span class="token operator">*</span> MathF<span class="token punctuation">.</span><span class="token function">Exp</span><span class="token punctuation">(</span><span class="token operator">-</span>decay <span class="token operator">*</span> deltaTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword keyword-private">private</span> <span class="token class-name return-type">Matrix</span> <span class="token function">GetView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword keyword-int">int</span></span> width <span class="token operator">=</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword keyword-int">int</span></span> height <span class="token operator">=</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Height<span class="token punctuation">;</span>
            <span class="token class-name">Vector2</span> origin <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">2f</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword keyword-return">return</span>
                Matrix<span class="token punctuation">.</span><span class="token function">CreateTranslation</span><span class="token punctuation">(</span><span class="token operator">-</span>origin<span class="token punctuation">.</span>X<span class="token punctuation">,</span> <span class="token operator">-</span>origin<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
                Matrix<span class="token punctuation">.</span><span class="token function">CreateTranslation</span><span class="token punctuation">(</span><span class="token operator">-</span>_xy<span class="token punctuation">.</span>X<span class="token punctuation">,</span> <span class="token operator">-</span>_xy<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
                Matrix<span class="token punctuation">.</span><span class="token function">CreateRotationZ</span><span class="token punctuation">(</span>_rotation<span class="token punctuation">)</span> <span class="token operator">*</span>
                Matrix<span class="token punctuation">.</span><span class="token function">CreateScale</span><span class="token punctuation">(</span>_scale<span class="token punctuation">,</span> _scale<span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
                Matrix<span class="token punctuation">.</span><span class="token function">CreateTranslation</span><span class="token punctuation">(</span>origin<span class="token punctuation">.</span>X<span class="token punctuation">,</span> origin<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-private">private</span> <span class="token class-name return-type">Matrix</span> <span class="token function">GetUVTransform</span><span class="token punctuation">(</span><span class="token class-name">Texture2D</span> t<span class="token punctuation">,</span> <span class="token class-name">Vector2</span> offset<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> scale<span class="token punctuation">,</span> <span class="token class-name">Viewport</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span>
                Matrix<span class="token punctuation">.</span><span class="token function">CreateScale</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>Width<span class="token punctuation">,</span> t<span class="token punctuation">.</span>Height<span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
                Matrix<span class="token punctuation">.</span><span class="token function">CreateScale</span><span class="token punctuation">(</span>scale<span class="token punctuation">,</span> scale<span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
                Matrix<span class="token punctuation">.</span><span class="token function">CreateTranslation</span><span class="token punctuation">(</span>offset<span class="token punctuation">.</span>X<span class="token punctuation">,</span> offset<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
                <span class="token function">GetView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>
                Matrix<span class="token punctuation">.</span><span class="token function">CreateScale</span><span class="token punctuation">(</span><span class="token number">1f</span> <span class="token operator">/</span> v<span class="token punctuation">.</span>Width<span class="token punctuation">,</span> <span class="token number">1f</span> <span class="token operator">/</span> v<span class="token punctuation">.</span>Height<span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token class-name return-type"><span class="token keyword keyword-float">float</span></span> <span class="token function">ScaleToExp</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-float">float</span></span> scale<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token operator">-</span>MathF<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>scale<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-static">static</span> <span class="token class-name return-type"><span class="token keyword keyword-float">float</span></span> <span class="token function">ExpToScale</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-float">float</span></span> exp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> MathF<span class="token punctuation">.</span><span class="token function">Exp</span><span class="token punctuation">(</span><span class="token operator">-</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">GraphicsDeviceManager</span> _graphics<span class="token punctuation">;</span>
        <span class="token class-name">SpriteBatch</span> _s<span class="token punctuation">;</span>

        <span class="token class-name">Texture2D</span> _background<span class="token punctuation">;</span>
        <span class="token class-name">Effect</span> _infinite<span class="token punctuation">;</span>

        <span class="token class-name">Vector2</span> _xy <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token number">0f</span><span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-float">float</span></span> _scale <span class="token operator">=</span> <span class="token number">1f</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-float">float</span></span> _rotation <span class="token operator">=</span> <span class="token number">0f</span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword keyword-float">float</span></span> _targetExp <span class="token operator">=</span> <span class="token number">0f</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-float">float</span></span> _targetRotation <span class="token operator">=</span> <span class="token number">0f</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-float">float</span></span> _decay <span class="token operator">=</span> <span class="token number">0.005f</span><span class="token punctuation">;</span>

        <span class="token class-name">Vector2</span> _mouseWorld <span class="token operator">=</span> Vector2<span class="token punctuation">.</span>Zero<span class="token punctuation">;</span>
        <span class="token class-name">Vector2</span> _dragAnchor <span class="token operator">=</span> Vector2<span class="token punctuation">.</span>Zero<span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-bool">bool</span></span> _isDragged <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

        <span class="token class-name"><span class="token keyword keyword-float">float</span></span> _expDistance <span class="token operator">=</span> <span class="token number">0.002f</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-float">float</span></span> _maxExp <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2f</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword keyword-float">float</span></span> _minExp <span class="token operator">=</span> <span class="token number">2f</span><span class="token punctuation">;</span>

        <span class="token class-name">ICondition</span> _quit <span class="token operator">=</span>
            <span class="token keyword keyword-new">new</span> <span class="token class-name constructor-invocation">AnyCondition</span><span class="token punctuation">(</span>
                <span class="token keyword keyword-new">new</span> <span class="token class-name constructor-invocation">KeyboardCondition</span><span class="token punctuation">(</span>Keys<span class="token punctuation">.</span>Escape<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword keyword-new">new</span> <span class="token class-name constructor-invocation">GamePadCondition</span><span class="token punctuation">(</span>GamePadButton<span class="token punctuation">.</span>Back<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ICondition</span> RotateLeft <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name constructor-invocation">KeyboardCondition</span><span class="token punctuation">(</span>Keys<span class="token punctuation">.</span>OemComma<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ICondition</span> RotateRight <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name constructor-invocation">KeyboardCondition</span><span class="token punctuation">(</span>Keys<span class="token punctuation">.</span>OemPeriod<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ICondition</span> CameraDrag <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name constructor-invocation">MouseCondition</span><span class="token punctuation">(</span>MouseButton<span class="token punctuation">.</span>MiddleButton<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div><h2 id="explanation">Explanation</h2><p>In <a href="/tutorial/first-shader/">First shader</a>, the UV coordinate system got briefly mentioned. It’s a 2D value that ranges between 0 and 1 and covers the whole range of the texture. For a texture that is 200x300 pixels, if you sample it at <code>(0.5, 0.5)</code> in UV coordinates, that gives you the position <code>(100, 150)</code>.</p><hr><p>By default in MonoGame, texture sampling is done using the <code>LinearClamp</code> mode which limits the sampling to the inside of the texture. In order to have an infinite background, we will use a different sampling mode called <code>LinearWrap</code>. This mode wraps around when you sample below 0 or above 1 in UV coordinates.</p><p>You can set LinearWrap in the SpriteBatch’s begin function:</p><div class="code-select"><div class="code-highlight" lang="csharp"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span></span>_s<span class="token punctuation">.</span><span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation named-parameter">samplerState</span><span class="token punctuation">:</span> SamplerState<span class="token punctuation">.</span>LinearWrap<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div><hr><p>In the last tutorial, we were drawing the texture in world coordinates and bringing the coordinates back into the homogeneous coordinate system using matrix math. This time, we’ll do something different, we’ll draw a rectangle that covers the whole viewport and transform that into homogenous coordinates.</p><div class="code-select"><div class="code-highlight" lang="csharp"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span></span>_s<span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span>_background<span class="token punctuation">,</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Bounds<span class="token punctuation">,</span> Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div><p>The matrix to transform the viewport into homogeneous coordinates is:</p><div class="code-select"><div class="code-highlight" lang="csharp"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span><span></span></span><span class="token class-name"><span class="token keyword keyword-int">int</span></span> width <span class="token operator">=</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword keyword-int">int</span></span> height <span class="token operator">=</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Height<span class="token punctuation">;</span>

<span class="token class-name">Matrix</span> projection <span class="token operator">=</span> Matrix<span class="token punctuation">.</span><span class="token function">CreateOrthographicOffCenter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div><p>With this in place, if you used the first shader from the previous tutorial and passed the projection matrix to it, you’d see the background texture stretched to cover the whole window.</p><p><img alt="Stretched background" src="/tutorial/infinite-background-shader/stretched-background.png"></p><hr><p>To tile the background infinitely, we have to take the background’s UVs, multiply them by the background’s dimensions so that it ends up in world coordinates at (0, 0), transform them by the view matrix for the camera and then divide that by the viewport rectangle’s dimensions to bring it all into the viewport’s UV coordinates. Here is how to build a matrix that will do all that:</p><div class="code-select"><div class="code-highlight" lang="csharp"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span><span></span><span></span><span></span></span><span class="token keyword keyword-private">private</span> <span class="token class-name return-type">Matrix</span> <span class="token function">GetUVTransform</span><span class="token punctuation">(</span><span class="token class-name">Texture2D</span> t<span class="token punctuation">,</span> <span class="token class-name">Viewport</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span>
        Matrix<span class="token punctuation">.</span><span class="token function">CreateScale</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>Width<span class="token punctuation">,</span> t<span class="token punctuation">.</span>Height<span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
        <span class="token function">GetView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>
        Matrix<span class="token punctuation">.</span><span class="token function">CreateScale</span><span class="token punctuation">(</span><span class="token number">1f</span> <span class="token operator">/</span> v<span class="token punctuation">.</span>Width<span class="token punctuation">,</span> <span class="token number">1f</span> <span class="token operator">/</span> v<span class="token punctuation">.</span>Height<span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div><p>The code to get the view matrix:</p><div class="code-select"><div class="code-highlight" lang="csharp"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span class="token keyword keyword-private">private</span> <span class="token class-name return-type">Matrix</span> <span class="token function">GetView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword keyword-int">int</span></span> width <span class="token operator">=</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword keyword-int">int</span></span> height <span class="token operator">=</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Height<span class="token punctuation">;</span>
    <span class="token class-name">Vector2</span> origin <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name constructor-invocation">Vector2</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">2f</span><span class="token punctuation">,</span> height <span class="token operator">/</span> <span class="token number">2f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span>
        Matrix<span class="token punctuation">.</span><span class="token function">CreateTranslation</span><span class="token punctuation">(</span><span class="token operator">-</span>origin<span class="token punctuation">.</span>X<span class="token punctuation">,</span> <span class="token operator">-</span>origin<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
        Matrix<span class="token punctuation">.</span><span class="token function">CreateTranslation</span><span class="token punctuation">(</span><span class="token operator">-</span>_xy<span class="token punctuation">.</span>X<span class="token punctuation">,</span> <span class="token operator">-</span>_xy<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
        Matrix<span class="token punctuation">.</span><span class="token function">CreateRotationZ</span><span class="token punctuation">(</span>_rotation<span class="token punctuation">)</span> <span class="token operator">*</span>
        Matrix<span class="token punctuation">.</span><span class="token function">CreateScale</span><span class="token punctuation">(</span>_scale<span class="token punctuation">,</span> _scale<span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
        Matrix<span class="token punctuation">.</span><span class="token function">CreateTranslation</span><span class="token punctuation">(</span>origin<span class="token punctuation">.</span>X<span class="token punctuation">,</span> origin<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div><p>The origin is used so that the scale and rotation operations are done from the center of the viewport instead of the top left.</p><p>In order to have more control on the background texture, we can add an offset and scale input parameter. This will modify it’s position and size in the world independently from the camera.</p><div class="code-select"><div class="code-highlight" lang="csharp"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span class="token keyword keyword-private">private</span> <span class="token class-name return-type">Matrix</span> <span class="token function">GetUVTransform</span><span class="token punctuation">(</span><span class="token class-name">Texture2D</span> t<span class="token punctuation">,</span> <span class="token class-name">Vector2</span> offset<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-float">float</span></span> scale<span class="token punctuation">,</span> <span class="token class-name">Viewport</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span>
        Matrix<span class="token punctuation">.</span><span class="token function">CreateScale</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>Width<span class="token punctuation">,</span> t<span class="token punctuation">.</span>Height<span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
        Matrix<span class="token punctuation">.</span><span class="token function">CreateScale</span><span class="token punctuation">(</span>scale<span class="token punctuation">,</span> scale<span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
        Matrix<span class="token punctuation">.</span><span class="token function">CreateTranslation</span><span class="token punctuation">(</span>offset<span class="token punctuation">.</span>X<span class="token punctuation">,</span> offset<span class="token punctuation">.</span>Y<span class="token punctuation">,</span> <span class="token number">0f</span><span class="token punctuation">)</span> <span class="token operator">*</span>
        <span class="token function">GetView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>
        Matrix<span class="token punctuation">.</span><span class="token function">CreateScale</span><span class="token punctuation">(</span><span class="token number">1f</span> <span class="token operator">/</span> v<span class="token punctuation">.</span>Width<span class="token punctuation">,</span> <span class="token number">1f</span> <span class="token operator">/</span> v<span class="token punctuation">.</span>Height<span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div><hr><p>On the shader side, we modify the code from the first shader to use the UV transform matrix:</p><div class="code-select"><div class="code-highlight" lang="hlsl"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span>PixelInput <span class="token function">SpriteVertexShader</span><span class="token punctuation">(</span>VertexInput v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    PixelInput output<span class="token punctuation">;</span>

    output<span class="token punctuation">.</span>Position <span class="token operator">=</span> <span class="token function">mul</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>Position<span class="token punctuation">,</span> view_projection<span class="token punctuation">)</span><span class="token punctuation">;</span>
    output<span class="token punctuation">.</span>Color <span class="token operator">=</span> v<span class="token punctuation">.</span>Color<span class="token punctuation">;</span>
    output<span class="token punctuation">.</span>TexCoord <span class="token operator">=</span> <span class="token function">mul</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>TexCoord<span class="token punctuation">,</span> uv_transform<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> output<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div><p>In the draw function, the only thing left to do is to wire up everything together:</p><div class="code-select"><div class="code-highlight" lang="csharp"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span class="token keyword keyword-protected">protected</span> <span class="token keyword keyword-override">override</span> <span class="token class-name return-type"><span class="token keyword keyword-void">void</span></span> <span class="token function">Draw</span><span class="token punctuation">(</span><span class="token class-name">GameTime</span> gameTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    GraphicsDevice<span class="token punctuation">.</span><span class="token function">Clear</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword keyword-int">int</span></span> width <span class="token operator">=</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Width<span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword keyword-int">int</span></span> height <span class="token operator">=</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Height<span class="token punctuation">;</span>

    <span class="token class-name">Matrix</span> projection <span class="token operator">=</span> Matrix<span class="token punctuation">.</span><span class="token function">CreateOrthographicOffCenter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Matrix</span> uv_transform <span class="token operator">=</span> <span class="token function">GetUVTransform</span><span class="token punctuation">(</span>_background<span class="token punctuation">,</span> <span class="token keyword keyword-new">new</span> <span class="token class-name constructor-invocation">Vector2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1f</span><span class="token punctuation">,</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">)</span><span class="token punctuation">;</span>

    _infinite<span class="token punctuation">.</span>Parameters<span class="token punctuation">[</span><span class="token string">"view_projection"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">SetValue</span><span class="token punctuation">(</span>Matrix<span class="token punctuation">.</span>Identity <span class="token operator">*</span> projection<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _infinite<span class="token punctuation">.</span>Parameters<span class="token punctuation">[</span><span class="token string">"uv_transform"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">SetValue</span><span class="token punctuation">(</span>Matrix<span class="token punctuation">.</span><span class="token function">Invert</span><span class="token punctuation">(</span>uv_transform<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    _s<span class="token punctuation">.</span><span class="token function">Begin</span><span class="token punctuation">(</span><span class="token punctuation named-parameter">effect</span><span class="token punctuation">:</span> _infinite<span class="token punctuation">,</span> <span class="token punctuation named-parameter">samplerState</span><span class="token punctuation">:</span> SamplerState<span class="token punctuation">.</span>LinearWrap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _s<span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span>_background<span class="token punctuation">,</span> GraphicsDevice<span class="token punctuation">.</span>Viewport<span class="token punctuation">.</span>Bounds<span class="token punctuation">,</span> Color<span class="token punctuation">.</span>White<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _s<span class="token punctuation">.</span><span class="token function">End</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-base">base</span><span class="token punctuation">.</span><span class="token function">Draw</span><span class="token punctuation">(</span>gameTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div><p>You will see the final result:</p><p><img alt="Final showcase" src="/tutorial/infinite-background-shader/showcase.png"></p><hr><p>In the final Game1.cs, I have added some extra functions to control the camera. You can click and drag to move the camera around. You can zoom in and out using the mouse scroll wheel. You can also rotate the screen using comma <code>,</code> and dot <code>.</code>.</p><hr><p>As a bonus, you can uncomment the following lines in the shader:</p><div class="code-select"><div class="code-highlight" lang="hlsl"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span></span><span class="token comment">// if (p.TexCoord.x &lt; 0 || p.TexCoord.x > 1) {</span>
<span class="token comment">//     discard;</span>
<span class="token comment">// }</span>
</code></pre></div></div><div class="code-select"><div class="code-highlight" lang="hlsl"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span></span><span class="token comment">// if (p.TexCoord.y &lt; 0 || p.TexCoord.y > 1) {</span>
<span class="token comment">//     discard;</span>
<span class="token comment">// }</span>
</code></pre></div></div><p>Those lines will prevent the background from repeating along the X or Y axes. If you uncomment both blocks, the background will not repeat at all.</p><p><img alt="Horizontal Repeat" src="/tutorial/infinite-background-shader/horizontal-repeat.png"><br><img alt="Vertical Repeat" src="/tutorial/infinite-background-shader/vertical-repeat.png"></p><p>You could allow 2 columns to repeat using:</p><div class="code-select"><div class="code-highlight" lang="hlsl"><pre class="syntax"><code><span class="line-numbers" aria-hidden="true" style="counter-reset:linenumber 0"><span></span><span></span><span></span></span><span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>TexCoord<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> p<span class="token punctuation">.</span>TexCoord<span class="token punctuation">.</span>x <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-discard">discard</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div><p>Feel free to experiment with the code and have some fun!</p><sub class="flex justify-end md:pb-0 pb-8 print:hidden"><a href="https://github.com/learn-monogame/learn-monogame.github.io/tree/main/docs/tutorial/infinite-background-shader/README.md" class="edit-link">Edit this page on GitHub</a></sub></main></div></div></div></body></html>